(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f9b7a2e"],{"25f0":function(e,t,n){"use strict";var r=n("6eeb"),a=n("825a"),s=n("577e"),i=n("d039"),o=n("ad6d"),c="toString",l=RegExp.prototype,u=l[c],m=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),g=u.name!=c;(m||g)&&r(RegExp.prototype,c,(function(){var e=a(this),t=s(e.source),n=e.flags,r=s(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"555a":function(e,t,n){e.exports=n.p+"img/icon.7c7ba4b0.png"},"61d8":function(e,t,n){},"7ded":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));n("d3b7");var r=n("b775");function a(e){return new Promise((function(t,n){r["a"].post("/author/login",e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}function s(e){return new Promise((function(t,n){r["a"].post("/author/register",e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}function i(e){return new Promise((function(t,n){r["a"].get("/author/sendVerifyCode",{params:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}},9541:function(e,t,n){},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-form"},[n("div",{staticClass:"login-big-box"},[n("login-left-area"),n("div",{staticClass:"login-box"},[e._m(0),n("el-tabs",{attrs:{type:"border-card",stretch:!0}},[n("el-tab-pane",{attrs:{label:"登录"}},[n("el-form",{ref:"ruleForm",attrs:{model:e.login,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"请输入邮箱"},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{autocomplete:"off",type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginForm("ruleForm")}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.loginForm("ruleForm")}}},[e._v("登录")])],1),n("el-row",[n("el-col",{attrs:{span:6,offset:16}},[n("el-link",{staticStyle:{"margin-top":"-12px"},attrs:{href:"/modifyCipher",icon:"el-icon-link",target:"_blank"}},[e._v("忘记密码")])],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"注册"}},[n("el-form",{ref:"register",attrs:{model:e.register,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入邮箱",clearable:""},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),n("el-form-item",{attrs:{prop:"nickname"}},[n("el-input",{attrs:{type:"text",autocomplete:"off",clearable:"",placeholder:"请输入昵称"},model:{value:e.register.nickname,callback:function(t){e.$set(e.register,"nickname",t)},expression:"register.nickname"}})],1),n("el-col",[n("el-form-item",{attrs:{prop:"yanzhengma"}},[n("el-input",{staticStyle:{width:"63%"},attrs:{type:"text",autocomplete:"off",maxlength:"4",placeholder:"请输入验证码"},model:{value:e.register.yanzhengma,callback:function(t){e.$set(e.register,"yanzhengma",e._n(t))},expression:"register.yanzhengma"}}),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"btn",staticStyle:{"font-size":"13px"},attrs:{type:"primary",disabled:e.isLoading,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.5)"},on:{click:function(t){return e.sendAnPwd()}}},[e._v("获取验证码")])],1)],1),n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("register")}}},[e._v("注册")])],1)],1)],1)],1)],1),n("p",{staticClass:"icp"},[e._v(" ©"+e._s(e.fullYear)+" 小破盘 版权所有 "),n("a",{attrs:{href:"//beian.miit.gov.cn"}},[e._v("豫ICP备20017833号")])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icon",staticStyle:{"margin-bottom":"10px"}},[r("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:n("555a"),height:"40"}}),r("span",{staticStyle:{"font-weight":"500"}},[e._v("小破盘")])])}],s=n("1da1"),i=(n("96cf"),n("7ded")),o=n("f65e"),c=n("bec1"),l={data:function(){return{login:{password:"",username:""},register:{password:"",username:"",nicheng:"",yanzhengma:""},rules:{username:[{required:!0,message:"邮箱是必须的",trigger:"blur"},{validator:this.usernameValid,trigger:"blur"}],password:[{required:!0,message:"密码是必须的",trigger:"blur"},{min:8,max:14,message:"长度不对哦！长度应在8-14之间",trigger:"blur"}],nickname:[{required:!0,message:"昵称是必须的",trigger:"blur"},{min:3,max:10,message:"昵称再长些呢！",trigger:"blur"}],yanzhengma:[{required:!0,message:"验证码是必须的",trigger:"blur"},{type:"number",message:"必须为数字值"}]},isLoading:!1}},computed:{fullYear:function(){return(new Date).getFullYear()}},methods:{sendAnPwd:function(){var e=this,t=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;t.test(this.register.username)?(this.isLoading=!0,Object(i["c"])({username:this.register.username}).then((function(t){e.$message({message:t.message,type:"success"}),e.isLoading=!1}))):this.$message.error("邮箱格式不正确")},submitForm:function(e){var t=this,n=this.register,r=n.username,a=n.password,s=n.nickname,c=n.yanzhengma;this.$refs[e].validate((function(e){e&&Object(i["b"])({username:r,password:Object(o["b"])(a),nickname:s,yanzhengma:c}).then((function(e){var n=e.message,r=e.status;console.log(r),0==r?t.$message({message:n,type:"error"}):(t.$message({message:n,type:"success"}),t.$router.go(0))}))}))},loginForm:function(e){var t=this,n=this.login,r=n.password,a=n.username;this.$refs[e].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var s,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}return e.prev=1,e.next=4,Object(i["a"])({password:Object(o["b"])(r),username:a});case 4:s=e.sent,c=s.status,l=s.message,u=s.token,200==c?(t.$message({message:l,type:"success"}),localStorage.setItem("token",u),setTimeout((function(){t.$router.push("/drive/file")}),1500)):t.$message({message:l,type:"error"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},usernameValid:function(e,t,n){var r=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;r.test(t)||n(new Error("邮箱格式不正确！")),n()}},components:{LoginLeftArea:c["a"]}},u=l,m=(n("a94f"),n("2877")),g=Object(m["a"])(u,r,a,!1,null,"58fa3c00",null);t["default"]=g.exports},a94f:function(e,t,n){"use strict";n("9541")},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},bec1:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LoginLeftArea"},[n("img",{attrs:{id:"canvasImg",src:"https://api.dujin.org/bing/1920.php",alt:""}}),n("div",{staticClass:"text",domProps:{textContent:e._s(e.text)}})])},a=[],s=n("1da1"),i=(n("96cf"),n("d3b7"),n("b775"));function o(){return new Promise((function(e,t){i["a"].get("/yiyan/getYiyan").then((function(t){e(t)})).catch((function(e){t(e)}))}))}var c={data:function(){return{color:"",text:""}},methods:{init:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o().then((function(t){e.text=t.newslist[0].content})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.init()}},l=c,u=(n("ec8e"),n("2877")),m=Object(u["a"])(l,r,a,!1,null,"5c554930",null);t["a"]=m.exports},ec8e:function(e,t,n){"use strict";n("61d8")}}]);