(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f63677c"],{"057f":function(e,t,n){var i=n("fc6a"),r=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):r(i(e))}},"0c8b":function(e,t,n){},"159b":function(e,t,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in r){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(f){l.forEach=o}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=r("forEach");e.exports=o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"428f":function(e,t,n){var i=n("da84");e.exports=i},"4de4":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").filter,o=n("1dde"),a=o("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"520b":function(e,t,n){"use strict";n("55b1")},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"555a":function(e,t,n){e.exports=n.p+"img/icon.7c7ba4b0.png"},"55b1":function(e,t,n){},"6f23":function(e,t,n){"use strict";n("0c8b")},"746f":function(e,t,n){var i=n("428f"),r=n("5135"),o=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},a4d3:function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),l=n("d039"),f=n("5135"),u=n("e8b5"),d=n("861d"),p=n("d9b5"),m=n("825a"),v=n("7b0b"),b=n("fc6a"),g=n("a04b"),h=n("577e"),y=n("5c6c"),_=n("7c73"),w=n("df75"),O=n("241c"),k=n("057f"),P=n("7418"),j=n("06cf"),S=n("9bf2"),C=n("d1e7"),x=n("9112"),I=n("6eeb"),N=n("5692"),E=n("f772"),F=n("d012"),$=n("90e3"),D=n("b622"),B=n("e538"),T=n("746f"),M=n("d44e"),V=n("69f3"),R=n("b727").forEach,z=E("hidden"),A="Symbol",J="prototype",G=D("toPrimitive"),U=V.set,q=V.getterFor(A),L=Object[J],Q=r.Symbol,W=o("JSON","stringify"),H=j.f,K=S.f,X=k.f,Y=C.f,Z=N("symbols"),ee=N("op-symbols"),te=N("string-to-symbol-registry"),ne=N("symbol-to-string-registry"),ie=N("wks"),re=r.QObject,oe=!re||!re[J]||!re[J].findChild,ae=s&&l((function(){return 7!=_(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=H(L,t);i&&delete L[t],K(e,t,n),i&&e!==L&&K(L,t,i)}:K,se=function(e,t){var n=Z[e]=_(Q[J]);return U(n,{type:A,tag:e,description:t}),s||(n.description=t),n},ce=function(e,t,n){e===L&&ce(ee,t,n),m(e);var i=g(t);return m(n),f(Z,i)?(n.enumerable?(f(e,z)&&e[z][i]&&(e[z][i]=!1),n=_(n,{enumerable:y(0,!1)})):(f(e,z)||K(e,z,y(1,{})),e[z][i]=!0),ae(e,i,n)):K(e,i,n)},le=function(e,t){m(e);var n=b(t),i=w(n).concat(me(n));return R(i,(function(t){s&&!ue.call(n,t)||ce(e,t,n[t])})),e},fe=function(e,t){return void 0===t?_(e):le(_(e),t)},ue=function(e){var t=g(e),n=Y.call(this,t);return!(this===L&&f(Z,t)&&!f(ee,t))&&(!(n||!f(this,t)||!f(Z,t)||f(this,z)&&this[z][t])||n)},de=function(e,t){var n=b(e),i=g(t);if(n!==L||!f(Z,i)||f(ee,i)){var r=H(n,i);return!r||!f(Z,i)||f(n,z)&&n[z][i]||(r.enumerable=!0),r}},pe=function(e){var t=X(b(e)),n=[];return R(t,(function(e){f(Z,e)||f(F,e)||n.push(e)})),n},me=function(e){var t=e===L,n=X(t?ee:b(e)),i=[];return R(n,(function(e){!f(Z,e)||t&&!f(L,e)||i.push(Z[e])})),i};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,t=$(e),n=function(e){this===L&&n.call(ee,e),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),ae(this,t,y(1,e))};return s&&oe&&ae(L,t,{configurable:!0,set:n}),se(t,e)},I(Q[J],"toString",(function(){return q(this).tag})),I(Q,"withoutSetter",(function(e){return se($(e),e)})),C.f=ue,S.f=ce,j.f=de,O.f=k.f=pe,P.f=me,B.f=function(e){return se(D(e),e)},s&&(K(Q[J],"description",{configurable:!0,get:function(){return q(this).description}}),a||I(L,"propertyIsEnumerable",ue,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),R(w(ie),(function(e){T(e)})),i({target:A,stat:!0,forced:!c},{for:function(e){var t=h(e);if(f(te,t))return te[t];var n=Q(t);return te[t]=n,ne[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(f(ne,e))return ne[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:fe,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:de}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),i({target:"Object",stat:!0,forced:l((function(){P.f(1)}))},{getOwnPropertySymbols:function(e){return P.f(v(e))}}),W){var ve=!c||l((function(){var e=Q();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));i({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var i,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(i=t,(d(t)||void 0!==e)&&!p(e))return u(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!p(t))return t}),r[1]=t,W.apply(null,r)}})}Q[J][G]||x(Q[J],G,Q[J].valueOf),M(Q,A),F[z]=!0},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,n){var i=n("23e7"),r=n("7b0b"),o=n("df75"),a=n("d039"),s=a((function(){o(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return o(r(e))}})},b727:function(e,t,n){var i=n("0366"),r=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,f=4==e,u=6==e,d=7==e,p=5==e||u;return function(m,v,b,g){for(var h,y,_=o(m),w=r(_),O=i(v,b,3),k=a(w.length),P=0,j=g||s,S=t?j(m,k):n||d?j(m,0):void 0;k>P;P++)if((p||P in w)&&(h=w[P],y=O(h,P,_),e))if(t)S[P]=y;else if(y)switch(e){case 3:return!0;case 5:return h;case 6:return P;case 2:c.call(S,h)}else switch(e){case 4:return!1;case 7:c.call(S,h)}return u?-1:l||f?f:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},d504:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("play"),n("el-aside",{staticStyle:{width:"250px"}},[n("Nav")],1),n("el-container",[n("el-main",[n("router-view")],1)],1)],1)},r=[],o=n("5530"),a=n("2f62"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"Nav_meut"},[i("el-col",[i("div",{staticClass:"icon",staticStyle:{"margin-bottom":"10px"}},[i("img",{attrs:{src:n("555a"),height:"60"}}),i("span",[e._v("小破盘")])]),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/drive/file","background-color":"#F6F6F6",router:!0}},e._l(e.routers,(function(t,n){return i("el-menu-item",{key:n,attrs:{index:t.path}},[i("template",{slot:"title"}),i("i",{class:t.icon}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])],2)})),1)],1),i("div",{staticClass:"footer"},[i("div",{staticClass:"content"},[i("span",[e._v(" "+e._s(e._f("getBToMB")(e.userInfo.drive_used))+" MB/"+e._s(e._f("getBToGB")(e.userInfo.drive_size))+"GB")]),isNaN(e.percentage)?e._e():i("el-progress",{staticClass:"jindutiao",attrs:{percentage:100*e.percentage,color:e.customColor,format:e.format}})],1),i("div",{staticClass:"user_info"},[i("div",{staticClass:"head"},[i("img",{attrs:{src:e.userInfo.headImg,alt:""}})]),i("div",{staticClass:"nicheng"},[i("span",[e._v(e._s(e.userInfo.nickname))])]),i("div",{staticClass:"set"},[i("el-popover",{staticClass:"popover",attrs:{placement:"top",trigger:"click"}},[i("i",{staticClass:"iconfont el-icon-setting",attrs:{slot:"reference"},slot:"reference"}),i("ul",{staticClass:"menu"},[i("li",{on:{click:e.handel}},[e._v("更换头像")]),i("input",{ref:"fileEle",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.uploadFile}}),i("li",{on:{click:e.modify_nick}},[e._v("修改昵称")]),i("li",{on:{click:e.openModfityPass}},[e._v("修改密码")]),i("li",[e._v("关于")]),i("li",{on:{click:e.loginOut}},[e._v("退出登录")])])])],1)])]),i("div",{staticClass:"nickname"},[i("el-dialog",{attrs:{title:"修改昵称",visible:e.nickNameDialog,width:"30%",center:""},on:{"update:visible":function(t){e.nickNameDialog=t}}},[i("el-input",{attrs:{placeholder:"请输入新的昵称"},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.nickNameDialog=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.updateNick}},[e._v("确 定")])],1)],1)],1),i("div",{staticClass:"modfityPass"},[i("el-dialog",{attrs:{title:"修改密码",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"modifyPass",attrs:{model:e.modify,rules:e.rules}},[i("el-form-item",{attrs:{label:"原密码","label-width":"120px",prop:"oldPass"}},[i("el-input",{attrs:{autocomplete:"off",placeholder:"请输入原密码"},model:{value:e.modify.oldPass,callback:function(t){e.$set(e.modify,"oldPass",t)},expression:"modify.oldPass"}})],1),i("el-form-item",{attrs:{label:"新密码","label-width":"120px",prop:"oldPass"}},[i("el-input",{attrs:{autocomplete:"off",placeholder:"请输入新密码"},model:{value:e.modify.newPass,callback:function(t){e.$set(e.modify,"newPass",t)},expression:"modify.newPass"}})],1),i("el-form-item",{attrs:{label:"确认密码","label-width":"120px",prop:"oldPass"}},[i("el-input",{attrs:{autocomplete:"off",placeholder:"请再次输入新密码"},model:{value:e.modify.conPass,callback:function(t){e.$set(e.modify,"conPass",t)},expression:"modify.conPass"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updataPass("modifyPass")}}},[e._v("确 定")])],1)],1)],1)],1)},c=[],l=n("1da1"),f=(n("96cf"),n("caad"),n("2532"),n("b0c0"),n("ac1f"),n("5319"),n("2612")),u=n("3f5e"),d=n("f65e"),p={data:function(){return{isCollapse:!0,routers:[{path:"/drive/file",name:"文件",icon:"el-icon-files"},{path:"/drive/album",name:"照片",icon:"el-icon-picture-outline"},{path:"/drive/Favorite",name:"收藏夹",icon:"el-icon-star-off"}],nickNameDialog:!1,dialogFormVisible:!1,modify:{newPass:null,conPass:null,oldPass:null},nickname:null,customColor:"",rules:{oldPass:[{required:!0,message:"密码是必须的",trigger:"blur"},{min:8,max:14,message:"长度不对哦！长度应在8-14之间",trigger:"blur"}]}}},computed:Object(o["a"])({percentage:function(){var e=this.userInfo,t=e.drive_used,n=e.drive_size,i=parseInt(t/n*100)/100;return this.percentageStatua(i),i>1?1:i}},Object(a["d"])("user",["userInfo"])),filters:{getBToMB:function(e){return parseInt(e/1024/1024)},getBToGB:function(e){return parseInt(e/1024/1024/1024)}},methods:{percentageStatua:function(e){this.customColor=e<.6?"#409EFF":e>=.6&&e<.8?"#E6A23C":"#F56C6C"},format:function(e){return"".concat(e,"%")},handel:function(){this.$refs.fileEle.click()},uploadFile:function(e){var t=this,n=e.target.files[0];if(!n)return!1;if(n.size>5242880)return this.$message.warning("仅支持5M以内图片");if(!n.type.includes("image"))return this.$message.warning("仅支持image/*图片");var i=n.name,r=new FileReader,o=this.userInfo.drive_id;r.onload=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["o"])({chunk:r.result,filename:i,drive_id:o});case 2:n=e.sent,a=n.head_img_url,s=n.message,c=n.status,200==c&&(t.$message({type:"success",message:s}),t.userInfo.headImg=a);case 7:case"end":return e.stop()}}),e)}))),r.readAsDataURL(n)},modify_nick:function(){this.nickNameDialog=!this.nickNameDialog,this.nickname=this.userInfo.nickname},updateNick:function(){var e=this;Object(f["b"])({drive_id:this.userInfo.drive_id,nickname:this.nickname}).then((function(t){var n=t.status,i=t.message;200==n?(e.$message.success(i),e.userInfo.nickname=e.nickname,e.nickNameDialog=!e.nickNameDialog):e.$message.warning(i)})).catch((function(t){e.$message.warning(t.message)}))},openModfityPass:function(){this.dialogFormVisible=!0},updataPass:function(e){var t=this;this.$refs[e].validate((function(e){if(e&&t.modify.newPass===t.modify.conPass){t.dialogFormVisible=!1;var n=t.userInfo.drive_id;Object(f["c"])({password:Object(d["b"])(t.modify.newPass),drive_id:n}).then((function(e){var n=e.status,i=e.message;200==n?(t.$message.success(i),localStorage.removeItem("token"),t.$router.replace("/login")):t.$message.error(i)}))}}))},loginOut:function(){localStorage.removeItem("token"),this.$router.replace({path:"/login"})}}},m=p,v=(n("520b"),n("2877")),b=Object(v["a"])(m,s,c,!1,null,"51303bd5",null),g=b.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"video_play",staticClass:"video_play"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:e.video_pause}})]),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6,offset:3}},[n("span",{staticClass:"video_name"},[e._v(e._s(e.video_name))])])],1),n("el-row",[n("el-col",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.file_type.includes("video"),expression:"file_type.includes('video')"}],staticClass:"view",attrs:{id:"vb"}},[n("NPlayer",{ref:"player",attrs:{options:{poster:e.cover_url},set:e.setPlayer}})],1),e.file_type.includes("image")?n("div",{staticClass:"images"},[n("img",{attrs:{src:e.video_src}})]):e._e()])],1)],1)},y=[],_={data:function(){return{video_play:null,player:"",file_type:"",video_src:"",cover_url:"",video_name:""}},computed:Object(o["a"])({},Object(a["d"])("file",["isOpen","video_info"])),watch:{video_info:function(){var e=this.video_info,t=e.download_url,n=e.DOMAIN,i=e.file_name,r=e.type;this.video_src=n+"/"+t,this.video_name=i,this.file_type=r,this.cover_url="http://res.xiezy.top"}},methods:Object(o["a"])({video_pause:function(){this.SET_IS_OPEN(!1)},setPlayer:function(e){this.$options.player=e,e.poster.show()}},Object(a["c"])("file",["SET_IS_OPEN","SET_VIDEO_INFO"])),mounted:function(){}},w=_,O=(n("6f23"),Object(v["a"])(w,h,y,!1,null,"5029f30b",null)),k=O.exports,P={components:{Nav:g,play:k},methods:Object(o["a"])({},Object(a["b"])("user",["getUserInfo"])),mounted:function(){this.getUserInfo()}},j=P,S=Object(v["a"])(j,i,r,!1,null,null,null);t["default"]=S.exports},dbb4:function(e,t,n){var i=n("23e7"),r=n("83ab"),o=n("56ef"),a=n("fc6a"),s=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,i=a(e),r=s.f,l=o(i),f={},u=0;while(l.length>u)n=r(i,t=l[u++]),void 0!==n&&c(f,t,n);return f}})},e439:function(e,t,n){var i=n("23e7"),r=n("d039"),o=n("fc6a"),a=n("06cf").f,s=n("83ab"),c=r((function(){a(1)})),l=!s||c;i({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},e538:function(e,t,n){var i=n("b622");t.f=i}}]);